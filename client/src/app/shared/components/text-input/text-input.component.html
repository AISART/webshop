<div class="form-group position-relative">
	<input [type]="type"
	       [ngClass]="(controlDir && controlDir.control && controlDir.control.touched) ? !controlDir.control.valid ? 'is-invalid' : 'is-valid' : null"
	       (input)="onChange($event.target.value)"
	       (blur)="onTouched()"
	       id="{{label}}"
	       #input
	       class="form-control"
	       placeholder="{{label}}">
	
	<div *ngIf="controlDir && controlDir.control && controlDir.control.status === 'PENDING'" class="fa fa-spinner fa-spin loading"></div>

	<label for="{{label}}"
	       class="sr-only">{{label}}</label>
	
	<div class="invalid-feedback"
	     *ngIf="(controlDir && controlDir.control && !controlDir.control.valid && controlDir.control.touched)">
		<span *ngIf="controlDir.control.errors?.required">{{label}} is required</span>
		<span *ngIf="controlDir.control.errors?.pattern">Invalid {{label}}</span>
	</div>

	<div class="invalid-feedback d-block"
	     *ngIf="(controlDir && controlDir.control && !controlDir.control.valid && controlDir.control.dirty)">
		<span *ngIf="controlDir.control.errors?.emailExists">Email exists</span>
	</div>
</div>
